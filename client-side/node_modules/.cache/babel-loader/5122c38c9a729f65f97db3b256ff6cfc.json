{"ast":null,"code":"import { SET_TOURNAMENTS, LOADING_DATA, DELETE_TOURNAMENT, LOADING_UI, CLEAR_ERRORS, SET_ERRORS } from '../types';\nimport axios from 'axios'; // get all tournaments\n\nexport const getTournaments = () => dispatch => {\n  dispatch({\n    type: LOADING_DATA\n  });\n  axios.get('/tournaments').then(res => {\n    dispatch({\n      type: SET_TOURNAMENTS,\n      payload: res.data\n    });\n  }).catch(err => {\n    dispatch({\n      type: SET_TOURNAMENTS,\n      payload: []\n    });\n  });\n}; // post a torunament\n\nexport const postTournament = newTournament => dispatch => {\n  dispatch({\n    type: LOADING_UI\n  });\n  axios.post('/tournament', newTournament).then(red => {\n    dispatch({\n      type: POST_TOURNAMENT,\n      payload: res.data\n    });\n    dispatch({\n      type: CLEAR_ERRORS\n    });\n  }).catch(err => {\n    dispatch({\n      type: SET_ERRORS,\n      payload: err.response.data\n    });\n  });\n};\nexport const deleteTournament = tournamentId => dispatch => {\n  axios.delete(`/tournaments/${tournamentId}`).then(() => {\n    dispatch({\n      type: DELETE_TOURNAMENT,\n      payload: tournamentId\n    });\n  }).catch(err => console.log(err));\n};","map":{"version":3,"sources":["C:/Users/Faiyaz/Desktop/ffu/FYP-21/football-tournaments/client-side/src/redux/actions/dataActions.js"],"names":["SET_TOURNAMENTS","LOADING_DATA","DELETE_TOURNAMENT","LOADING_UI","CLEAR_ERRORS","SET_ERRORS","axios","getTournaments","dispatch","type","get","then","res","payload","data","catch","err","postTournament","newTournament","post","red","POST_TOURNAMENT","response","deleteTournament","tournamentId","delete","console","log"],"mappings":"AAAA,SAASA,eAAT,EAA0BC,YAA1B,EAAwCC,iBAAxC,EAA2DC,UAA3D,EAAuEC,YAAvE,EAAqFC,UAArF,QAAuG,UAAvG;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAEA;;AACA,OAAO,MAAMC,cAAc,GAAG,MAAOC,QAAD,IAAc;AAC9CA,EAAAA,QAAQ,CAAC;AAAEC,IAAAA,IAAI,EAAER;AAAR,GAAD,CAAR;AACAK,EAAAA,KAAK,CACFI,GADH,CACO,cADP,EAEGC,IAFH,CAESC,GAAD,IAAS;AACbJ,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAET,eADC;AAEPa,MAAAA,OAAO,EAAED,GAAG,CAACE;AAFN,KAAD,CAAR;AAID,GAPH,EAQGC,KARH,CAQUC,GAAD,IAAS;AACdR,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAET,eADC;AAEPa,MAAAA,OAAO,EAAE;AAFF,KAAD,CAAR;AAID,GAbH;AAcD,CAhBI,C,CAkBL;;AACA,OAAO,MAAMI,cAAc,GAAIC,aAAD,IAAoBV,QAAD,IAAc;AAC7DA,EAAAA,QAAQ,CAAC;AAAEC,IAAAA,IAAI,EAAEN;AAAR,GAAD,CAAR;AACAG,EAAAA,KAAK,CAACa,IAAN,CAAW,aAAX,EAA0BD,aAA1B,EACGP,IADH,CACQS,GAAG,IAAI;AACXZ,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAEY,eADC;AAEPR,MAAAA,OAAO,EAAED,GAAG,CAACE;AAFN,KAAD,CAAR;AAIAN,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEL;AAAR,KAAD,CAAR;AACD,GAPH,EAQGW,KARH,CAQSC,GAAG,IAAG;AACXR,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAEJ,UADC;AAEPQ,MAAAA,OAAO,EAAEG,GAAG,CAACM,QAAJ,CAAaR;AAFf,KAAD,CAAR;AAID,GAbH;AAcD,CAhBM;AAmBP,OAAO,MAAMS,gBAAgB,GAAIC,YAAD,IAAmBhB,QAAD,IAAc;AAC9DF,EAAAA,KAAK,CAACmB,MAAN,CAAc,gBAAeD,YAAa,EAA1C,EACGb,IADH,CACQ,MAAM;AACVH,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEP,iBAAR;AAA2BW,MAAAA,OAAO,EAAEW;AAApC,KAAD,CAAR;AACD,GAHH,EAIGT,KAJH,CAISC,GAAG,IAAIU,OAAO,CAACC,GAAR,CAAYX,GAAZ,CAJhB;AAKD,CANM","sourcesContent":["import { SET_TOURNAMENTS, LOADING_DATA, DELETE_TOURNAMENT, LOADING_UI, CLEAR_ERRORS, SET_ERRORS } from '../types';\r\nimport axios from 'axios';\r\n\r\n// get all tournaments\r\nexport const getTournaments = () => (dispatch) => {\r\n    dispatch({ type: LOADING_DATA });\r\n    axios\r\n      .get('/tournaments')\r\n      .then((res) => {\r\n        dispatch({\r\n          type: SET_TOURNAMENTS,\r\n          payload: res.data\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        dispatch({\r\n          type: SET_TOURNAMENTS,\r\n          payload: []\r\n        });\r\n      });\r\n  };\r\n\r\n  // post a torunament\r\n  export const postTournament = (newTournament) => (dispatch) => {\r\n    dispatch({ type: LOADING_UI });\r\n    axios.post('/tournament', newTournament)\r\n      .then(red => {\r\n        dispatch({\r\n          type: POST_TOURNAMENT,\r\n          payload: res.data\r\n        });\r\n        dispatch({ type: CLEAR_ERRORS});\r\n      })\r\n      .catch(err =>{\r\n        dispatch({\r\n          type: SET_ERRORS,\r\n          payload: err.response.data\r\n        })\r\n      })\r\n  }\r\n\r\n\r\n  export const deleteTournament = (tournamentId) => (dispatch) => {\r\n    axios.delete(`/tournaments/${tournamentId}`)\r\n      .then(() => {\r\n        dispatch({ type: DELETE_TOURNAMENT, payload: tournamentId})\r\n      })\r\n      .catch(err => console.log(err));\r\n  }"]},"metadata":{},"sourceType":"module"}